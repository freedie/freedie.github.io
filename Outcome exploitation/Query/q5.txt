PREFIX iri: <http://knowdive.disi.unitn.it/etype#>

CONSTRUCT { 	 
  ?Establishment a iri:Establishment_GID-43815;
   				iri:has_Location_GID-779_Type-779 ?Location;
                iri:has_name_GID-2_Type-43815 ?name;      
                iri:has_amenity_GID-2973_Type-43815 ?amenity;
                iri:has_housenumber_GID-34489_Type-43815 ?housenumber;
                iri:has_street_GID-24034_Type-43815 ?street;
                iri:has_postcode_GID-34110_Type-43815 ?postcode;
                iri:has_city_GID-45969_Type-43815 ?city.
    				
   ?Establishment a iri:Fast_food_restaurant_GID-40661;
                  iri:has_Location_GID-779_Type-779 ?Location;
                iri:has_name_GID-2_Type-43815 ?name;      
                iri:has_amenity_GID-2973_Type-43815 ?amenity;
                iri:has_housenumber_GID-34489_Type-43815 ?housenumber;
                iri:has_street_GID-24034_Type-43815 ?street;
                iri:has_postcode_GID-34110_Type-43815 ?postcode;
                iri:has_Servescuisine_GID-40725_Type-40661?Servescuisine;
                iri:has_Delivery_GID-1622_Type-40661?delivery;
                iri:has_opening_hours_GID-80563_Type-43815?opening_hours;    
                iri:has_city_GID-45969_Type-43815 ?city.
  					 
 ?Location  a iri:Location_GID-779;
            	iri:has_lattitude_GID-46264_Type-779 ?latitude;
                iri:has_longitude_GID-46270_Type-779 ?longitude.             }

where { 	
    {?Establishment a iri:Establishment_GID-43815}
    UNION
    {?Establishment a iri:Fast_food_restaurant_GID-40661}
    
 ?Establishment iri:has_Location_GID-779_Type-779 ?Location;
                iri:has_name_GID-2_Type-43815 ?name;      
                iri:has_amenity_GID-2973_Type-43815 ?amenity;
                iri:has_housenumber_GID-34489_Type-43815 ?housenumber;
                iri:has_street_GID-24034_Type-43815 ?street;
                iri:has_postcode_GID-34110_Type-43815 ?postcode;
                iri:has_city_GID-45969_Type-43815 ?city.
    				filter(?amenity = "fast_food")
   					filter(?city ="Trento")
OPTIONAL {
        ?Establishment iri:has_Servescuisine_GID-40725_Type-40661?Servescuisine;
                  iri:has_Delivery_GID-1622_Type-40661?delivery;
                  iri:has_opening_hours_GID-80563_Type-43815?opening_hours;             
                            filter(?delivery = "yes") 			 		  }    
    
  					 
 ?Location iri:has_lattitude_GID-46264_Type-779 ?latitude;
          iri:has_longitude_GID-46270_Type-779 ?longitude.                        
}
LIMIT 3